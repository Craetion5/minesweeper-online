 <!DOCTYPE html>
<html>
<body>

<h1>Online Minesweeper</h1>
<p>Left click to reveal tile, right click to set flag.</p>

<canvas id="myCanvas" width="336" height="336" style="border:1px solid #000000;">
</canvas> 
<script src="/socket.io/socket.io.js"></script>
<script type="module" src="game.js"></script>
<script>

let socket = io();
let playerCount = 0;
socket.on('playercount updated', (newCount) => {
  playerCount = newCount;
  console.log(playerCount);
})

function send(data) {
  socket.emit('user clicked', data);
}



function draw() {
  const ctx = document.getElementById('myCanvas').getContext('2d');
  const img = new Image();
  img.onload = () => {
    for (let i = 0; i < 16; i++) {
      for (let j = 0; j < 16; j++) {
        ctx.drawImage(img, j * 21, i * 21, 21, 21);
      }
    }
  };
  img.src = 'assets/unrevealed.png';
}

function clicked(x, y) {
  send({x, y});
}

clicked(4, 5)

draw();




</script>

</body>
</html> 